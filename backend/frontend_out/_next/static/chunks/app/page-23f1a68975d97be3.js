(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1537:function(e,a,s){Promise.resolve().then(s.bind(s,842))},842:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return ee}});var t=s(7437),r=s(2265),l=s(4839),n=s(6164);function i(){for(var e=arguments.length,a=Array(e),s=0;s<e;s++)a[s]=arguments[s];return(0,n.m6)((0,l.W)(a))}let d=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:i("rounded-lg border bg-card text-card-foreground shadow-sm",s),...r})});d.displayName="Card";let o=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:i("flex flex-col space-y-1.5 p-6",s),...r})});o.displayName="CardHeader";let c=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:i("text-2xl font-semibold leading-none tracking-tight",s),...r})});c.displayName="CardTitle";let m=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:i("text-sm text-muted-foreground",s),...r})});m.displayName="CardDescription";let u=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:i("p-6 pt-0",s),...r})});u.displayName="CardContent",r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:i("flex items-center p-6 pt-0",s),...r})}).displayName="CardFooter";var x=s(1538),h=s(3027);let f=(0,h.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),g=r.forwardRef((e,a)=>{let{className:s,variant:r,size:l,asChild:n=!1,...d}=e,o=n?x.g7:"button";return(0,t.jsx)(o,{className:i(f({variant:r,size:l,className:s})),ref:a,...d})});g.displayName="Button";var p=s(6625),j=s(7025);let v=p.fC;p.xz;let b=p.h_;p.x8;let y=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(p.aV,{ref:a,className:i("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...r})});y.displayName=p.aV.displayName;let N=r.forwardRef((e,a)=>{let{className:s,children:r,...l}=e;return(0,t.jsxs)(b,{children:[(0,t.jsx)(y,{}),(0,t.jsxs)(p.VY,{ref:a,className:i("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...l,children:[r,(0,t.jsxs)(p.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(j.Z,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});N.displayName=p.VY.displayName;let w=e=>{let{className:a,...s}=e;return(0,t.jsx)("div",{className:i("flex flex-col space-y-1.5 text-center sm:text-left",a),...s})};w.displayName="DialogHeader";let k=e=>{let{className:a,...s}=e;return(0,t.jsx)("div",{className:i("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...s})};k.displayName="DialogFooter";let S=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(p.Dx,{ref:a,className:i("text-lg font-semibold leading-none tracking-tight",s),...r})});S.displayName=p.Dx.displayName;let _=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(p.dk,{ref:a,className:i("text-sm text-muted-foreground",s),...r})});function C(e){let{open:a,onOpenChange:s}=e;return(0,t.jsx)(v,{open:a,onOpenChange:s,children:(0,t.jsxs)(N,{className:"   bg-gray-900/80 dark:bg-white/10    backdrop-blur-md    rounded-lg    shadow-xl    border border-gray-700/40 dark:border-white/20    p-6    max-w-3xl    mx-auto    transform    transition-all    duration-300    hover:scale-105   text-white dark:text-black   overflow-y-auto max-h-[80vh]   ",children:[(0,t.jsxs)(w,{children:[(0,t.jsx)(S,{children:"Book Catalog System – Help"}),(0,t.jsx)(_,{children:"This guide will help you with key features: creating, importing, exporting, searching, and managing book information."})]}),(0,t.jsxs)("div",{className:"space-y-4 mt-4 text-sm md:text-base",children:[(0,t.jsxs)("section",{children:[(0,t.jsx)("h3",{className:"font-semibold",children:"File Operations"}),(0,t.jsxs)("ul",{className:"list-disc list-inside space-y-1",children:[(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Create:"}),' Click "Create" in the File menu. Enter ISBN, title, author, tags, and other details. ISBN is mandatory. Cover images can be uploaded via file path.']}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Import:"})," Select JSON files via the Import option to load book data."]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Export:"})," Save the current book database to a JSON file using the Export option."]})]})]}),(0,t.jsxs)("section",{children:[(0,t.jsx)("h3",{className:"font-semibold",children:"Searching and Filtering"}),(0,t.jsxs)("ul",{className:"list-disc list-inside space-y-1",children:[(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Basic Search:"})," Search by keywords (ISBN, author, title, publisher). Results update in the list view."]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Tag Filtering:"}),' Use the dropdown to select one or more tags. Click "Filter" to show books matching all selected tags.']}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Combined Search and Filter:"}),' Enter a keyword and select tags, then click "Search and Filter" to refine results.']})]})]}),(0,t.jsxs)("section",{children:[(0,t.jsx)("h3",{className:"font-semibold",children:"Book Details and Management"}),(0,t.jsxs)("ul",{className:"list-disc list-inside space-y-1",children:[(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Show Details:"}),' Select a book and click "Show Details" to view all information.']}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Edit:"}),' Select a book and click "Edit" to modify its details.']}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Delete:"}),' Select a book, click "Delete", and confirm to remove it.']})]})]}),(0,t.jsx)("p",{children:"This documentation provides clear guidance for managing your book collection effectively. Follow these instructions to create, edit, search, and organize your books efficiently."})]}),(0,t.jsx)(k,{className:"mt-4 flex justify-end",children:(0,t.jsx)("button",{onClick:()=>s(!1),className:"bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded-lg text-white transition-colors",children:"Close"})})]})})}_.displayName=p.dk.displayName;let z=r.forwardRef((e,a)=>{let{className:s,type:r,...l}=e;return(0,t.jsx)("input",{type:r,className:i("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:a,...l})});z.displayName="Input";var D=s(8837);let E=(0,h.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),F=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(D.f,{ref:a,className:i(E(),s),...r})});F.displayName=D.f.displayName;let R=(0,h.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function T(e){let{className:a,variant:s,...r}=e;return(0,t.jsx)("div",{className:i(R({variant:s}),a),...r})}var Z=s(7760);let O=r.forwardRef((e,a)=>{let{className:s,value:r,...l}=e;return(0,t.jsx)(Z.fC,{ref:a,className:i("relative h-4 w-full overflow-hidden rounded-full bg-secondary",s),...l,children:(0,t.jsx)(Z.z$,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(r||0),"%)")}})})});O.displayName=Z.fC.displayName;var A=s(325);let B=r.forwardRef((e,a)=>{let{className:s,orientation:r="horizontal",decorative:l=!0,...n}=e;return(0,t.jsx)(A.f,{ref:a,decorative:l,orientation:r,className:i("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",s),...n})});B.displayName=A.f.displayName;let P=(0,h.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),I=r.forwardRef((e,a)=>{let{className:s,variant:r,...l}=e;return(0,t.jsx)("div",{ref:a,role:"alert",className:i(P({variant:r}),s),...l})});I.displayName="Alert",r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("h5",{ref:a,className:i("mb-1 font-medium leading-none tracking-tight",s),...r})}).displayName="AlertTitle";let M=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:i("text-sm [&_p]:leading-relaxed",s),...r})});M.displayName="AlertDescription";var Y=s(8829),V=s(5130),H=s(1853),K=s(6149),J=s(9954),L=s(5427),q=s(2985),G=s(6218),U=s(6730),W=s(4380),X=s(2560),$=s(2957);let Q="http://127.0.0.1:8000";function ee(){let[e,a]=(0,r.useState)([]),[s,l]=(0,r.useState)(.25),[n,i]=(0,r.useState)("model.pt"),[x,h]=(0,r.useState)([]),[f,p]=(0,r.useState)(!1),[j,v]=(0,r.useState)(0),[b,y]=(0,r.useState)([]),[N,w]=(0,r.useState)(null),[k,S]=(0,r.useState)("checking"),[_,D]=(0,r.useState)(null),[E,R]=(0,r.useState)([]),[Z,A]=(0,r.useState)(null),[P,ee]=(0,r.useState)(!1),[ea,es]=(0,r.useState)(""),[et,er]=(0,r.useState)([]),[el,en]=(0,r.useState)(""),[ei,ed]=(0,r.useState)(null),[eo,ec]=(0,r.useState)([]),[em,eu]=(0,r.useState)(""),[ex,eh]=(0,r.useState)("");(0,r.useEffect)(()=>{ef(),eg(),ep()},[]);let ef=async()=>{try{(await fetch("".concat(Q,"/health"))).ok?(S("online"),D(null)):(S("offline"),D("Backend server is not responding"))}catch(e){S("offline"),D("Cannot connect to backend server. Please make sure the Python backend is running.")}},eg=async()=>{try{let e=await fetch("".concat(Q,"/models"));if(e.ok){let a=await e.json();h(a.models),a.models.length>0&&i(a.models[0].name)}}catch(e){console.error("Error loading models:",e)}},ep=async e=>{try{let a=e&&e.trim()?"".concat(Q,"/history?q=").concat(encodeURIComponent(e.trim())):"".concat(Q,"/history"),s=await fetch(a);if(s.ok){let e=await s.json();er(e.items||[])}}catch(e){console.warn(e)}},ej=(0,r.useCallback)(e=>{a(Array.from(e.target.files||[])),y([]),w(null),D(null)},[]),ev=(0,r.useCallback)(e=>{e.preventDefault()},[]),eb=(0,r.useCallback)(e=>{e.preventDefault(),a(Array.from(e.dataTransfer.files)),y([]),w(null),D(null)},[]),ey=async()=>{if(0===e.length)return[];try{let a=new FormData;e.forEach(e=>a.append("files",e));let s=await fetch("".concat(Q,"/upload-images"),{method:"POST",body:a});if(!s.ok)throw Error("Upload failed: ".concat(s.statusText));let t=(await s.json()).uploaded_files.map(e=>e.filename);return R(t),t}catch(e){return D("File upload failed: ".concat(e)),[]}},eN=async()=>{if("online"!==k){D("Backend server is not available");return}if(!ea.trim()){D("L\xfctfen \xf6nce 'Klas\xf6r adı (grup)' girin.");return}p(!0),v(0),D(null);try{v(20);let e=await ey();if(0===e.length)throw Error("No files uploaded");v(40);let a=new FormData;a.append("model_name",n),a.append("confidence",s.toString()),a.append("filenames",JSON.stringify(e)),a.append("run_group",ea);let t=await fetch("".concat(Q,"/analyze"),{method:"POST",body:a});if(!t.ok)throw Error("Analysis failed: ".concat(t.statusText));v(80);let r=await t.json();v(100),y(r.results),w(r),setTimeout(()=>{p(!1),v(0)},400),ep(el)}catch(e){D("Analysis failed: ".concat(e)),p(!1),v(0)}},[ew,ek]=(0,r.useState)(!1),eS=async()=>{if(N&&0!==b.length){ee(!0);try{var e,a;let s=new FormData;s.append("folder_name",(null==N?void 0:null===(e=N.run)||void 0===e?void 0:e.group_name)||"Analiz_Sonuclari"),s.append("results_json",JSON.stringify(b));let t=await fetch("".concat(Q,"/download-results"),{method:"POST",body:s});if(!t.ok)throw Error("Download preparation failed: ".concat(t.statusText));let r=await t.json(),l="".concat(Q).concat(r.download_path||r.download_url),n=document.createElement("a");n.href=l,n.download=((null==N?void 0:null===(a=N.run)||void 0===a?void 0:a.group_name)||"Analiz_Sonuclari")+".zip",document.body.appendChild(n),n.click(),document.body.removeChild(n),D(null)}catch(e){D("Download failed: ".concat(e))}finally{ee(!1)}}},e_=async e=>{ed({group_slug:e.group_slug,run_id:e.run_id}),eu(e.group_name),eh(e.run_id);try{let a=await fetch("".concat(Q,"/history/").concat(e.group_slug,"/").concat(e.run_id));if(a.ok){let e=await a.json();ec((e.images||[]).map(e=>"".concat(Q,"/static/").concat(e)))}else ec([])}catch(e){ec([])}},eC=async()=>{if(!ei)return;let{group_slug:e,run_id:a}=ei,s=await fetch("".concat(Q,"/history/").concat(e,"/").concat(a,"/zip"),{method:"POST"});if(s.ok){let t=await s.json(),r="".concat(Q).concat(t.download_url),l=document.createElement("a");l.href=r,l.download="".concat(e,"__").concat(a,".zip"),document.body.appendChild(l),l.click(),document.body.removeChild(l)}},ez=async()=>{if(!ei)return;let{group_slug:e,run_id:a}=ei;confirm("Bu \xe7alışma klas\xf6r\xfcn\xfc silmek istediğinize emin misiniz?")&&(await fetch("".concat(Q,"/history/").concat(e,"/").concat(a),{method:"DELETE"})).ok&&(ed(null),ec([]),ep(el))},eD=async()=>{if(!ei)return;let{group_slug:e}=ei,a=new FormData;a.append("old_group_slug",e),a.append("new_group_name",em),(await fetch("".concat(Q,"/history/rename-group"),{method:"POST",body:a})).ok&&(ed(null),ec([]),ep(el))},eE=async()=>{if(!ei)return;let{group_slug:e,run_id:a}=ei,s=new FormData;s.append("new_run_id",ex),(await fetch("".concat(Q,"/history/").concat(e,"/").concat(a,"/rename"),{method:"POST",body:s})).ok&&(ed(null),ec([]),ep(el))},eF=(null==N?void 0:N.summary.total_detections)||0;return(0,t.jsxs)("div",{className:"min-h-screen relative",children:[(0,t.jsx)("div",{className:"fixed inset-0 -z-10 bg-gradient-to-br from-blue-400 via-white to-purple-200"}),(0,t.jsx)("div",{className:"fixed inset-0 -z-10 backdrop-blur-lg bg-white/40"}),(0,t.jsxs)("div",{className:"max-w-7xl mx-auto space-y-8 p-8",children:[(0,t.jsxs)("div",{className:"fixed bottom-8 left-8 z-50",children:[(0,t.jsx)("button",{onClick:()=>ek(!0),className:"   bg-blue-600/80    backdrop-blur-md   text-white    font-semibold    px-6 py-4    rounded-full    shadow-xl    hover:bg-blue-700/90    hover:shadow-2xl    active:scale-95    transition-all    duration-200    ease-in-out   ",children:"Help"}),(0,t.jsx)(C,{open:ew,onOpenChange:ek})]}),(0,t.jsxs)("div",{className:"text-center space-y-3",children:[(0,t.jsx)("h1",{className:"text-4xl font-extrabold text-foreground drop-shadow-lg",children:"Boya Kusurları Analiz Sistemi"}),(0,t.jsx)("p",{className:"text-lg text-muted-foreground",children:"YOLO tabanlı kusur tespiti \xb7 klas\xf6r bazlı arşiv"}),(0,t.jsx)("div",{className:"flex items-center justify-center gap-4 mt-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(Y.Z,{className:"h-5 w-5"}),(0,t.jsxs)("span",{className:"text-base",children:["Backend:","checking"===k&&(0,t.jsx)(T,{variant:"secondary",className:"ml-2 rounded-full px-3 py-1",children:"Kontrol Ediliyor..."}),"online"===k&&(0,t.jsxs)(T,{variant:"default",className:"ml-2 bg-green-600 rounded-full px-3 py-1",children:[(0,t.jsx)(V.Z,{className:"h-4 w-4 mr-1"}),"\xc7evrimi\xe7i"]}),"offline"===k&&(0,t.jsxs)(T,{variant:"destructive",className:"ml-2 rounded-full px-3 py-1",children:[(0,t.jsx)(H.Z,{className:"h-4 w-4 mr-1"}),"\xc7evrimdışı"]})]})]})})]}),_&&(0,t.jsxs)(I,{variant:"destructive",className:"rounded-xl shadow-md",children:[(0,t.jsx)(H.Z,{className:"h-5 w-5"}),(0,t.jsx)(M,{children:_})]}),(0,t.jsxs)(d,{className:"rounded-2xl shadow-lg bg-white/80 backdrop-blur-md border-0",children:[(0,t.jsxs)(o,{children:[(0,t.jsxs)(c,{className:"flex items-center gap-2",children:[(0,t.jsx)(K.Z,{className:"h-5 w-5"}),"Fotoğraf Y\xfckleme"]}),(0,t.jsx)(m,{children:"Analiz edilecek fotoğrafları y\xfckleyin"})]}),(0,t.jsxs)(u,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(F,{children:"Klas\xf6r adı (grup)"}),(0,t.jsx)(z,{value:ea,onChange:e=>es(e.target.value),placeholder:"\xd6rn: Panel \xf6rneği 1"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(F,{children:["Confidence Threshold: ",s]}),(0,t.jsx)(z,{type:"number",min:"0",max:"1",step:"0.1",value:s,onChange:e=>l(Math.max(0,Math.min(1,Number.parseFloat(e.target.value)||0)))})]})]}),(0,t.jsxs)("div",{className:"border-2 border-dashed border-border rounded-lg p-8 text-center hover:border-primary/50 transition-colors",onDragOver:ev,onDrop:eb,children:[(0,t.jsx)(J.Z,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"Fotoğrafları buraya s\xfcr\xfckleyin veya dosya se\xe7in"}),(0,t.jsx)(z,{type:"file",multiple:!0,accept:"image/*",onChange:ej,className:"max-w-xs mx-auto"})]}),e.length>0&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(F,{children:["Se\xe7ilen Dosyalar (",e.length,")"]}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:e.map((e,a)=>(0,t.jsx)("div",{className:"p-2 bg-card rounded border text-sm",children:e.name},a))})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)(F,{children:"Model"}),(0,t.jsx)("select",{className:"w-full p-2 border border-border rounded-md bg-background",value:n,onChange:e=>i(e.target.value),disabled:0===x.length,children:0===x.length?(0,t.jsx)("option",{value:"",children:"Model bulunamadı"}):x.map(e=>(0,t.jsxs)("option",{value:e.name,children:[e.name," (",(e.size/1024/1024).toFixed(1)," ","MB)"]},e.name))})]}),(0,t.jsxs)(g,{onClick:eN,disabled:0===e.length||f||"online"!==k||!ea.trim(),className:"w-48",children:[(0,t.jsx)(L.Z,{className:"h-4 w-4 mr-2"}),f?"Analiz Ediliyor...":"Tespit Başlat"]})]}),f&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(O,{value:j,className:"w-full"}),(0,t.jsxs)("p",{className:"text-sm text-center text-muted-foreground",children:[j<20&&"Başlatılıyor...",j>=20&&j<40&&"Fotoğraflar y\xfckleniyor...",j>=40&&j<80&&"AI modeli analiz ediyor...",j>=80&&j<100&&"Sonu\xe7lar işleniyor...",j>=100&&"Tamamlandı!"]})]})]})]}),N&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(d,{className:"rounded-2xl shadow-lg bg-white/80 backdrop-blur-md border-0",children:[(0,t.jsxs)(o,{children:[(0,t.jsxs)(c,{className:"flex items-center gap-2",children:[(0,t.jsx)(q.Z,{className:"h-5 w-5"}),"Analiz Sonu\xe7ları"]}),(0,t.jsxs)(m,{children:[N.summary.total_images," fotoğrafta toplam"," ",eF," kusur tespit edildi"]})]}),(0,t.jsxs)(u,{children:[(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:Object.entries(N.summary.class_counts).map(e=>{let[a,s]=e;return(0,t.jsxs)("div",{className:"text-center p-4 bg-card rounded-lg",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-primary",children:s}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:a})]},a)})}),(0,t.jsx)(B,{className:"my-4"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:b.map(e=>(0,t.jsxs)(d,{className:"overflow-hidden",children:[(0,t.jsx)("div",{className:"aspect-square bg-muted relative",children:(0,t.jsx)("img",{src:"".concat(Q,"/static/").concat(e.processed_path),alt:e.filename,className:"w-full h-full object-cover"})}),(0,t.jsxs)(u,{className:"p-3",children:[(0,t.jsx)("p",{className:"font-medium text-sm mb-2",children:e.filename}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground mb-2",children:[e.detection_count," kusur tespit edildi"]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:e.detections.map((e,a)=>(0,t.jsxs)(T,{variant:"secondary",className:"text-xs",children:[e.class_name," (",(100*e.confidence).toFixed(1),"%)"]},a))})]})]},e.id))})]})]}),(0,t.jsxs)(d,{className:"rounded-2xl shadow-lg bg-white/80 backdrop-blur-md border-0",children:[(0,t.jsxs)(o,{children:[(0,t.jsxs)(c,{className:"flex items-center gap-2",children:[(0,t.jsx)(G.Z,{className:"h-5 w-5"}),"Sonu\xe7ları İndir"]}),(0,t.jsx)(m,{children:"Rapor + işlenmiş g\xf6rseller (ZIP)"})]}),(0,t.jsx)(u,{className:"space-y-4",children:(0,t.jsxs)(g,{onClick:eS,className:"w-full",disabled:!N||P,children:[(0,t.jsx)(G.Z,{className:"h-4 w-4 mr-2"}),P?"İndiriliyor...":"ZIP Dosyası İndir"]})})]})]}),(0,t.jsxs)(d,{className:"rounded-2xl shadow-lg bg-white/80 backdrop-blur-md border-0",children:[(0,t.jsxs)(o,{children:[(0,t.jsxs)(c,{className:"flex items-center gap-2",children:[(0,t.jsx)(U.Z,{className:"h-5 w-5"}),"Ge\xe7miş Tespitler"]}),(0,t.jsx)(m,{children:"Kayıtlı klas\xf6rleri arayın, g\xf6r\xfcnt\xfcleyin, indirin, yeniden adlandırın veya silin."})]}),(0,t.jsxs)(u,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("div",{className:"relative flex-1",children:[(0,t.jsx)(W.Z,{className:"h-4 w-4 absolute left-2 top-1/2 -translate-y-1/2 text-muted-foreground"}),(0,t.jsx)(z,{className:"pl-8",placeholder:"Arama (grup adı veya run id)",value:el,onChange:e=>en(e.target.value),onKeyDown:e=>{"Enter"===e.key&&ep(el)}})]}),(0,t.jsx)(g,{variant:"outline",onClick:()=>ep(el),children:"Ara"}),(0,t.jsx)(g,{variant:"ghost",onClick:()=>{en(""),ep("")},children:"Temizle"})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:et.map(e=>(0,t.jsxs)(d,{className:"overflow-hidden",children:[(0,t.jsx)("div",{className:"aspect-video bg-muted",children:e.preview?(0,t.jsx)("img",{src:"".concat(Q,"/static/").concat(e.preview),alt:"",className:"w-full h-full object-cover"}):(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center text-muted-foreground text-sm",children:"\xd6nizleme yok"})}),(0,t.jsxs)(u,{className:"p-3 space-y-2",children:[(0,t.jsx)("div",{className:"font-medium",children:e.group_name}),(0,t.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Run: ",e.run_id]}),(0,t.jsxs)("div",{className:"text-xs text-muted-foreground",children:[new Date(e.created_at).toLocaleString()," \xb7"," ",e.total_images," g\xf6rsel \xb7 ",e.total_detections," tespit"]}),(0,t.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,t.jsx)(g,{size:"sm",onClick:()=>e_(e),children:"G\xf6r\xfcnt\xfcle"}),(0,t.jsx)(g,{size:"sm",variant:"outline",onClick:async()=>{ed({group_slug:e.group_slug,run_id:e.run_id}),await eC()},children:"ZIP"})]})]})]},"".concat(e.group_slug,"-").concat(e.run_id)))}),ei&&(0,t.jsxs)("div",{className:"space-y-4 border rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"font-semibold",children:["Se\xe7ili: ",ei.group_slug," /"," ",ei.run_id]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(g,{size:"sm",variant:"destructive",onClick:ez,children:[(0,t.jsx)(X.Z,{className:"h-4 w-4 mr-1"})," Sil"]}),(0,t.jsxs)(g,{size:"sm",onClick:eC,children:[(0,t.jsx)(G.Z,{className:"h-4 w-4 mr-1"})," ZIP indir"]})]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-2",children:eo.map((e,a)=>(0,t.jsx)("div",{className:"aspect-square bg-muted",children:(0,t.jsx)("img",{src:e,className:"w-full h-full object-cover",alt:""})},a))}),(0,t.jsx)(B,{}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{className:"flex items-end gap-2",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)(F,{children:"Grup adını değiştir"}),(0,t.jsx)(z,{value:em,onChange:e=>eu(e.target.value),placeholder:"Yeni grup adı"})]}),(0,t.jsxs)(g,{onClick:eD,children:[(0,t.jsx)($.Z,{className:"h-4 w-4 mr-1"})," Değiştir"]})]}),(0,t.jsxs)("div",{className:"flex items-end gap-2",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)(F,{children:"Run klas\xf6r adını değiştir"}),(0,t.jsx)(z,{value:ex,onChange:e=>eh(e.target.value),placeholder:"YYYYMMDD_HHMMSS veya \xf6zel"})]}),(0,t.jsxs)(g,{onClick:eE,children:[(0,t.jsx)($.Z,{className:"h-4 w-4 mr-1"})," Değiştir"]})]})]})]})]})]})]})]})}}},function(e){e.O(0,[783,971,23,744],function(){return e(e.s=1537)}),_N_E=e.O()}]);